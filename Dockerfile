# Executor Dockerfile for Python Learning Portal\nFROM python:3.11-alpine\n\n# Create app directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apk add --no-cache gcc musl-dev\n\n# Add non-root user\nRUN addgroup -g 1001 -S python && \\\n    adduser -S executor -u 1001\n\n# Copy requirements first for better caching\nCOPY requirements.txt .\n\n# Install Python dependencies\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Change ownership to executor user\nRUN chown -R executor:python /app\n\n# Switch to non-root user\nUSER executor\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \\\n  CMD curl -f http://localhost:5000/health || exit 1\n\n# Expose port\nEXPOSE 5000\n\n# Start the application\nCMD [\"python\", \"app.py\"]